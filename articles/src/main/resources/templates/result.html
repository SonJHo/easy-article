<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Easy Article | 분석 결과</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">

            <h3 class="fw-bold text-primary mb-2">기사 분석 결과</h3>
            <p class="text-muted mb-4">원문을 기반으로 핵심 맥락과 용어를 정리합니다.</p>

            <!-- 원본 기사 -->
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-body">
                    <h5 class="fw-semibold mb-3 d-flex justify-content-between align-items-center">
                        📰 원본 기사
                        <span id="wordLoadingBadge"
                              class="badge bg-secondary"
                              style="display:none;">
                            용어 분석 중...
                        </span>
                    </h5>

                    <pre id="originalArticle"
                         class="bg-light p-3 rounded"
                         style="white-space: pre-wrap; font-size:1.15rem; line-height:1.45;"
                         th:text="${originalArticle}"></pre>
                </div>
            </div>

            <!-- 요약 -->
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-body text-center">
                    <h5 class="fw-semibold mb-3">✍️ 한눈에 보는 요약</h5>

                    <!-- 요약 로딩 -->
                    <div id="loadingBox" class="my-4">
                        <div class="spinner-border text-primary mb-3" role="status"></div>
                        <div class="text-muted">AI가 기사를 분석 중입니다...</div>
                        <div class="text-muted">이 작업은 약 20초이내로 완료됩니다...</div>
                    </div>

                    <!-- 요약 결과 -->
                    <div id="summaryBox"
                         class="text-start"
                         style="display:none; font-size:1.1rem; line-height:1.6;">
                    </div>
                </div>
            </div>

            <div class="text-center mt-4">
                <a th:href="@{/}" class="btn btn-outline-secondary">
                    ← 다른 기사 분석하기
                </a>
            </div>

        </div>
    </div>
</div>

<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/js/result.js}"></script>
</body>
</html>
